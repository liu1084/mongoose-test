{"version":3,"sources":["users.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,WAAW,QAAQ,UAAR,CAAf;;AAEA,IAAI,KAAK,SAAS,OAAT,CAAiB,0BAAjB,EAA6C,UAAtD;AACA,GACK,EADL,CACQ,OADR,EACiB,UAAU,GAAV,EAAe;AACxB,YAAQ,GAAR,CAAY,GAAZ;AACH,CAHL,EAIK,EAJL,CAIQ,MAJR,EAIgB,YAAY;AACpB,YAAQ,GAAR,CAAY,QAAZ;AACH,CANL;AAOA,IAAI,SAAS,QAAQ,MAAR,EAAb;;;AAGA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACtC,QAAI,IAAJ,CAAS,yBAAT;AACH,CAFD;;AAIA,IAAI,SAAS,SAAS,MAAtB;AACA,IAAI,aAAa,IAAI,MAAJ,CAAW;AACxB,UAAM,EAAC,MAAM,QAAP,EAAiB,SAAS,EAA1B,EADkB;AAExB,WAAO,EAAC,MAAM,QAAP,EAAiB,SAAS,EAA1B;AAFiB,CAAX,CAAjB;;AAKA,WAAW,GAAX,CAAe,MAAf,EAAuB,UAAU,IAAV,EAAgB;AACnC;AACH,CAFD;;AAIA,WAAW,OAAX,GAAqB;AACjB,WAAO,UAAU,KAAV,EAAiB;AACpB,gBAAQ,GAAR,CAAY,KAAZ;AACH;AAHgB,CAArB;;AAMA,IAAI,OAAO,SAAS,KAAT,CAAe,MAAf,EAAuB,UAAvB,CAAX;;AAGA,OAAO,IAAP,CAAY,GAAZ,EAAiB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACvC,QAAI,SAAS,IAAI,IAAJ,CAAS,EAAC,MAAM,QAAP,EAAiB,OAAO,iBAAxB,EAAT,CAAb;AACA,WAAO,KAAP,CAAa,GAAb;AACA,WAAO,IAAP,CAAY,UAAU,KAAV,EAAiB;AACzB,YAAI,KAAJ,EAAW,MAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACX,aAAK,OAAL,CAAa,EAAC,MAAM,QAAP,EAAb,EAA+B,UAAU,GAAV,EAAe,IAAf,EAAqB;AAChD,oBAAQ,GAAR,CAAY,IAAZ;AACA,gBAAI,IAAJ,CAAS,IAAT;AACH,SAHD;AAIH,KAND;AAOH,CAVD;;AAYA,OAAO,OAAP,GAAiB,MAAjB","file":"users-compiled.js","sourcesContent":["var express = require('express');\r\nvar mongoose = require('mongoose');\r\n\r\nvar db = mongoose.connect('mongodb://localhost/user').connection;\r\ndb\r\n    .on('error', function (err) {\r\n        console.log(err);\r\n    })\r\n    .on('open', function () {\r\n        console.log('opened');\r\n    });\r\nvar router = express.Router();\r\n\r\n/* GET users listing. */\r\nrouter.get('/', function (req, res, next) {\r\n    res.send('respond with a resource');\r\n});\r\n\r\nvar Schema = mongoose.Schema;\r\nvar UserSchema = new Schema({\r\n    name: {type: 'String', default: ''},\r\n    email: {type: 'String', default: ''}\r\n});\r\n\r\nUserSchema.pre('save', function (next) {\r\n    next();\r\n});\r\n\r\nUserSchema.methods = {\r\n    speak: function (words) {\r\n        console.log(words);\r\n    }\r\n};\r\n\r\nvar User = mongoose.model('User', UserSchema);\r\n\r\n\r\nrouter.post('/', function (req, res, next) {\r\n    var person = new User({name: 'liujun', email: 'liu1084@163.com'});\r\n    person.speak(req);\r\n    person.save(function (error) {\r\n        if (error) throw new Error(error);\r\n        User.findOne({name: 'liujun'}, function (err, data) {\r\n            console.log(data);\r\n            res.send(data);\r\n        });\r\n    });\r\n});\r\n\r\nmodule.exports = router;\r\n"]}